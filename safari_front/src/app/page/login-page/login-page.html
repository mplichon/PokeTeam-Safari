<div class="backconnx">
  <div class="encarco">
    <div class="center_g16">
      <img class="pokeballdeco" src="assets/pokeballpix.png" alt="pokeballpix" />

      <h1 class="title">
        Welcome <br />
        back
      </h1>
      <h2 class="subtitle">
        to the <br />
        pokéfari
      </h2>
    </div>
    <br />

    <div class="erreurconx" *ngIf="loginError">
      Nom d'utilisateur ou <br />
      Mot de passe incorrect
    </div>

    <form (ngSubmit)="connecter()" [formGroup]="userForm">
      <div class="inputs">
        <input
          class="conxn"
          [class.input-error]="loginError"
          type="text"
          formControlName="username"
          name="username"
          id="username"
          placeholder="Identifiant"
        />
        <br />

        <div class="password-container">
          <input class="conxn"  [class.input-error]="loginError" [type]="showPassword ? 'text' : 'password'" formControlName="password" name="password" id="password" placeholder="Mot de passe"
          />


          <img
            id="toggle"
            [src]="showPassword ? 'assets/openy.png' : 'assets/closey.png'"
            (click)="togglePassword()"
            style="cursor: pointer"
            alt=""
          />

          <img
            id="toggle"
            [src]="showPassword ? 'assets/openy.png' : 'assets/closey.png'"
            (click)="togglePassword()"
            style="cursor: pointer"
            alt=""
          />
        </div>

                  @if (passwordCtrl.hasError('required')) {
          <div class="error-message"></div>
          } @else if (passwordCtrl.hasError('minlength')) {
          <div class="error-message"> <br>Le mot de passe doit faire <br><br>6 caractères minimum</div>
          }

        <br />

        <br />
        <button
          type="submit"
          [disabled]="userForm.invalid"
          value="Se connecter"
          class="primary_b"
          style="cursor: pointer"
        >
          Se connecter
        </button>
      </div>
    </form>

    <br />

    <div class="inscrib">
      <p class="txt">
        Pas encore de compte ?
        <br />
        <br />
        <br />
        <a class="secondary_b" routerLink="/register" routerLinkActive="active">Crée ton compte</a>
      </p>
    </div>
  </div>
</div>
